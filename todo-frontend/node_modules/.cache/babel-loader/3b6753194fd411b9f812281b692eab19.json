{"ast":null,"code":"import React,{useState}from'react';import{useHistory}from'react-router-dom';import TaskList from'./TaskList';import'./TasksShownPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TasksShownPage=_ref=>{let{tasks,onDeleteTask,onUpdateTask,onFetchTask,onUpdateTaskCompletion,onUpdateTaskPriority,onUpdateTaskDueDate}=_ref;const history=useHistory();const[filters,setFilters]=useState({priority:'',completed:'',dateFilter:'',dateValue:''});const handleBackClick=()=>{history.push('/');};const handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>({...prev,[name]:value}));};const applyFilters=()=>{const apiFilters={};if(filters.priority){apiFilters.priority=filters.priority;}if(filters.completed!==''){apiFilters.completed=filters.completed==='true';}if(filters.dateFilter&&filters.dateValue){switch(filters.dateFilter){case'dueDate':apiFilters.dueDate=filters.dateValue;break;case'dueBefore':apiFilters.dueBefore=filters.dateValue;break;case'dueAfter':apiFilters.dueAfter=filters.dateValue;break;default:break;}}onFetchTask(apiFilters);};const clearFilters=()=>{setFilters({priority:'',completed:'',dateFilter:'',dateValue:''});onFetchTask();// Fetch all tasks with no filters\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"tasks-shown-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Task Overview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:handleBackClick,children:\"Back to Main Page\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filter Tasks\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"priority\",children:\"Priority:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"priority\",name:\"priority\",value:filters.priority,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Priorities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LOW\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MEDIUM\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HIGH\",children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"completed\",children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"completed\",name:\"completed\",value:filters.completed,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Tasks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Not Completed\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateFilter\",children:\"Date Filter:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"dateFilter\",name:\"dateFilter\",value:filters.dateFilter,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No Date Filter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dueDate\",children:\"Due On\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dueBefore\",children:\"Due Before\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dueAfter\",children:\"Due After\"})]})]}),filters.dateFilter&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateValue\",children:\"Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dateValue\",name:\"dateValue\",value:filters.dateValue,onChange:handleFilterChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"apply-button\",onClick:applyFilters,children:\"Apply Filters\"}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-button\",onClick:clearFilters,children:\"Clear Filters\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tasks-content\",children:tasks.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-tasks\",children:\"No tasks found.\"}):/*#__PURE__*/_jsx(TaskList,{tasks:tasks,onDeleteTask:onDeleteTask,onUpdateTask:onUpdateTask,onFetchTask:onFetchTask,onUpdateTaskCompletion:onUpdateTaskCompletion,onUpdateTaskPriority:onUpdateTaskPriority,onUpdateTaskDueDate:onUpdateTaskDueDate})})]});};export default TasksShownPage;;","map":{"version":3,"names":["React","useState","useHistory","TaskList","jsx","_jsx","jsxs","_jsxs","TasksShownPage","_ref","tasks","onDeleteTask","onUpdateTask","onFetchTask","onUpdateTaskCompletion","onUpdateTaskPriority","onUpdateTaskDueDate","history","filters","setFilters","priority","completed","dateFilter","dateValue","handleBackClick","push","handleFilterChange","e","name","value","target","prev","applyFilters","apiFilters","dueDate","dueBefore","dueAfter","clearFilters","className","children","onClick","htmlFor","id","onChange","type","length"],"sources":["/home/basselfa/todo-frontend/src/components/TasksShownPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport TaskList from './TaskList';\nimport './TasksShownPage.css';\n\nconst TasksShownPage = ({ \n  tasks, \n  onDeleteTask, \n  onUpdateTask,\n  onFetchTask,\n  onUpdateTaskCompletion,\n  onUpdateTaskPriority,\n  onUpdateTaskDueDate\n}) => {\n  const history = useHistory();\n  const [filters, setFilters] = useState({\n    priority: '',\n    completed: '',\n    dateFilter: '',\n    dateValue: ''\n  });\n  \n  const handleBackClick = () => {\n    history.push('/');\n  };\n  \n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  \n  const applyFilters = () => {\n    const apiFilters = {};\n    \n    if (filters.priority) {\n      apiFilters.priority = filters.priority;\n    }\n    \n    if (filters.completed !== '') {\n      apiFilters.completed = filters.completed === 'true';\n    }\n    \n    if (filters.dateFilter && filters.dateValue) {\n      switch(filters.dateFilter) {\n        case 'dueDate':\n          apiFilters.dueDate = filters.dateValue;\n          break;\n        case 'dueBefore':\n          apiFilters.dueBefore = filters.dateValue;\n          break;\n        case 'dueAfter':\n          apiFilters.dueAfter = filters.dateValue;\n          break;\n        default:\n          break;\n      }\n    }\n    \n    onFetchTask(apiFilters);\n  };\n  \n  const clearFilters = () => {\n    setFilters({\n      priority: '',\n      completed: '',\n      dateFilter: '',\n      dateValue: ''\n    });\n    onFetchTask(); // Fetch all tasks with no filters\n  };\n\n  return (\n    <div className=\"tasks-shown-container\">\n      <h2>Task Overview</h2>\n      <div className=\"button-container\">\n        <button className=\"back-button\" onClick={handleBackClick}>\n          Back to Main Page\n        </button>\n      </div>\n      \n      <div className=\"filters-container\">\n        <h3>Filter Tasks</h3>\n        <div className=\"filter-row\">\n          <div className=\"filter-group\">\n            <label htmlFor=\"priority\">Priority:</label>\n            <select \n              id=\"priority\" \n              name=\"priority\" \n              value={filters.priority} \n              onChange={handleFilterChange}\n            >\n              <option value=\"\">All Priorities</option>\n              <option value=\"LOW\">Low</option>\n              <option value=\"MEDIUM\">Medium</option>\n              <option value=\"HIGH\">High</option>\n            </select>\n          </div>\n          \n          <div className=\"filter-group\">\n            <label htmlFor=\"completed\">Status:</label>\n            <select \n              id=\"completed\" \n              name=\"completed\" \n              value={filters.completed} \n              onChange={handleFilterChange}\n            >\n              <option value=\"\">All Tasks</option>\n              <option value=\"true\">Completed</option>\n              <option value=\"false\">Not Completed</option>\n            </select>\n          </div>\n        </div>\n        \n        <div className=\"filter-row\">\n          <div className=\"filter-group\">\n            <label htmlFor=\"dateFilter\">Date Filter:</label>\n            <select \n              id=\"dateFilter\" \n              name=\"dateFilter\" \n              value={filters.dateFilter} \n              onChange={handleFilterChange}\n            >\n              <option value=\"\">No Date Filter</option>\n              <option value=\"dueDate\">Due On</option>\n              <option value=\"dueBefore\">Due Before</option>\n              <option value=\"dueAfter\">Due After</option>\n            </select>\n          </div>\n          \n          {filters.dateFilter && (\n            <div className=\"filter-group\">\n              <label htmlFor=\"dateValue\">Date:</label>\n              <input \n                type=\"date\" \n                id=\"dateValue\" \n                name=\"dateValue\" \n                value={filters.dateValue} \n                onChange={handleFilterChange}\n              />\n            </div>\n          )}\n        </div>\n        \n        <div className=\"filter-buttons\">\n          <button className=\"apply-button\" onClick={applyFilters}>Apply Filters</button>\n          <button className=\"clear-button\" onClick={clearFilters}>Clear Filters</button>\n        </div>\n      </div>\n      \n      <div className=\"tasks-content\">\n        {tasks.length === 0 ? (\n          <p className=\"no-tasks\">No tasks found.</p>\n        ) : (\n          <TaskList \n            tasks={tasks} \n            onDeleteTask={onDeleteTask}\n            onUpdateTask={onUpdateTask}\n            onFetchTask={onFetchTask}\n            onUpdateTaskCompletion={onUpdateTaskCompletion}\n            onUpdateTaskPriority={onUpdateTaskPriority}\n            onUpdateTaskDueDate={onUpdateTaskDueDate}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TasksShownPage;;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAQjB,IARkB,CACtBC,KAAK,CACLC,YAAY,CACZC,YAAY,CACZC,WAAW,CACXC,sBAAsB,CACtBC,oBAAoB,CACpBC,mBACF,CAAC,CAAAP,IAAA,CACC,KAAM,CAAAQ,OAAO,CAAGf,UAAU,CAAC,CAAC,CAC5B,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,CACrCmB,QAAQ,CAAE,EAAE,CACZC,SAAS,CAAE,EAAE,CACbC,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EACb,CAAC,CAAC,CAEF,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5BP,OAAO,CAACQ,IAAI,CAAC,GAAG,CAAC,CACnB,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIC,CAAC,EAAK,CAChC,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCX,UAAU,CAACY,IAAI,GAAK,CAClB,GAAGA,IAAI,CACP,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,UAAU,CAAG,CAAC,CAAC,CAErB,GAAIf,OAAO,CAACE,QAAQ,CAAE,CACpBa,UAAU,CAACb,QAAQ,CAAGF,OAAO,CAACE,QAAQ,CACxC,CAEA,GAAIF,OAAO,CAACG,SAAS,GAAK,EAAE,CAAE,CAC5BY,UAAU,CAACZ,SAAS,CAAGH,OAAO,CAACG,SAAS,GAAK,MAAM,CACrD,CAEA,GAAIH,OAAO,CAACI,UAAU,EAAIJ,OAAO,CAACK,SAAS,CAAE,CAC3C,OAAOL,OAAO,CAACI,UAAU,EACvB,IAAK,SAAS,CACZW,UAAU,CAACC,OAAO,CAAGhB,OAAO,CAACK,SAAS,CACtC,MACF,IAAK,WAAW,CACdU,UAAU,CAACE,SAAS,CAAGjB,OAAO,CAACK,SAAS,CACxC,MACF,IAAK,UAAU,CACbU,UAAU,CAACG,QAAQ,CAAGlB,OAAO,CAACK,SAAS,CACvC,MACF,QACE,MACJ,CACF,CAEAV,WAAW,CAACoB,UAAU,CAAC,CACzB,CAAC,CAED,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzBlB,UAAU,CAAC,CACTC,QAAQ,CAAE,EAAE,CACZC,SAAS,CAAE,EAAE,CACbC,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EACb,CAAC,CAAC,CACFV,WAAW,CAAC,CAAC,CAAE;AACjB,CAAC,CAED,mBACEN,KAAA,QAAK+B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpClC,IAAA,OAAAkC,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBlC,IAAA,QAAKiC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BlC,IAAA,WAAQiC,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEhB,eAAgB,CAAAe,QAAA,CAAC,mBAE1D,CAAQ,CAAC,CACN,CAAC,cAENhC,KAAA,QAAK+B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClC,IAAA,OAAAkC,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBhC,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlC,IAAA,UAAOoC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3ChC,KAAA,WACEmC,EAAE,CAAC,UAAU,CACbd,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEX,OAAO,CAACE,QAAS,CACxBuB,QAAQ,CAAEjB,kBAAmB,CAAAa,QAAA,eAE7BlC,IAAA,WAAQwB,KAAK,CAAC,EAAE,CAAAU,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxClC,IAAA,WAAQwB,KAAK,CAAC,KAAK,CAAAU,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChClC,IAAA,WAAQwB,KAAK,CAAC,QAAQ,CAAAU,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtClC,IAAA,WAAQwB,KAAK,CAAC,MAAM,CAAAU,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,cAENhC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlC,IAAA,UAAOoC,OAAO,CAAC,WAAW,CAAAF,QAAA,CAAC,SAAO,CAAO,CAAC,cAC1ChC,KAAA,WACEmC,EAAE,CAAC,WAAW,CACdd,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAEX,OAAO,CAACG,SAAU,CACzBsB,QAAQ,CAAEjB,kBAAmB,CAAAa,QAAA,eAE7BlC,IAAA,WAAQwB,KAAK,CAAC,EAAE,CAAAU,QAAA,CAAC,WAAS,CAAQ,CAAC,cACnClC,IAAA,WAAQwB,KAAK,CAAC,MAAM,CAAAU,QAAA,CAAC,WAAS,CAAQ,CAAC,cACvClC,IAAA,WAAQwB,KAAK,CAAC,OAAO,CAAAU,QAAA,CAAC,eAAa,CAAQ,CAAC,EACtC,CAAC,EACN,CAAC,EACH,CAAC,cAENhC,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlC,IAAA,UAAOoC,OAAO,CAAC,YAAY,CAAAF,QAAA,CAAC,cAAY,CAAO,CAAC,cAChDhC,KAAA,WACEmC,EAAE,CAAC,YAAY,CACfd,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAEX,OAAO,CAACI,UAAW,CAC1BqB,QAAQ,CAAEjB,kBAAmB,CAAAa,QAAA,eAE7BlC,IAAA,WAAQwB,KAAK,CAAC,EAAE,CAAAU,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxClC,IAAA,WAAQwB,KAAK,CAAC,SAAS,CAAAU,QAAA,CAAC,QAAM,CAAQ,CAAC,cACvClC,IAAA,WAAQwB,KAAK,CAAC,WAAW,CAAAU,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC7ClC,IAAA,WAAQwB,KAAK,CAAC,UAAU,CAAAU,QAAA,CAAC,WAAS,CAAQ,CAAC,EACrC,CAAC,EACN,CAAC,CAELrB,OAAO,CAACI,UAAU,eACjBf,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlC,IAAA,UAAOoC,OAAO,CAAC,WAAW,CAAAF,QAAA,CAAC,OAAK,CAAO,CAAC,cACxClC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXF,EAAE,CAAC,WAAW,CACdd,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAEX,OAAO,CAACK,SAAU,CACzBoB,QAAQ,CAAEjB,kBAAmB,CAC9B,CAAC,EACC,CACN,EACE,CAAC,cAENnB,KAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlC,IAAA,WAAQiC,SAAS,CAAC,cAAc,CAACE,OAAO,CAAER,YAAa,CAAAO,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC9ElC,IAAA,WAAQiC,SAAS,CAAC,cAAc,CAACE,OAAO,CAAEH,YAAa,CAAAE,QAAA,CAAC,eAAa,CAAQ,CAAC,EAC3E,CAAC,EACH,CAAC,cAENlC,IAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B7B,KAAK,CAACmC,MAAM,GAAK,CAAC,cACjBxC,IAAA,MAAGiC,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cAE3ClC,IAAA,CAACF,QAAQ,EACPO,KAAK,CAAEA,KAAM,CACbC,YAAY,CAAEA,YAAa,CAC3BC,YAAY,CAAEA,YAAa,CAC3BC,WAAW,CAAEA,WAAY,CACzBC,sBAAsB,CAAEA,sBAAuB,CAC/CC,oBAAoB,CAAEA,oBAAqB,CAC3CC,mBAAmB,CAAEA,mBAAoB,CAC1C,CACF,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,cAAc,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}