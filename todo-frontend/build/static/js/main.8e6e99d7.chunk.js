(this["webpackJsonptodo-frontend"]=this["webpackJsonptodo-frontend"]||[]).push([[0],{34:function(e,t,a){},53:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s),o=a(26),l=a.n(o),n=a(12),r=(a(34),a(8)),c=a.n(r),d=a(2),u=a(0);var j=e=>{let{onAddTask:t}=e;const[a,i]=Object(s.useState)(""),[o,l]=Object(s.useState)(""),[n,r]=Object(s.useState)("MEDIUM"),[c,d]=Object(s.useState)("");return Object(u.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),a.trim()&&c)try{const e={title:a.trim(),description:o.trim(),priority:n,dueDate:c,completed:!1};await t(e),i(""),l(""),r("MEDIUM"),d("")}catch(s){console.error("Error adding task:",s),alert("Error adding task")}else alert("Please fill in all required fields")},className:"task-form container",children:Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter new task",value:a,onChange:e=>i(e.target.value),className:"form-input",required:!0}),Object(u.jsx)("textarea",{placeholder:"Description (optional)",value:o,onChange:e=>l(e.target.value),className:"form-input"}),Object(u.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"form-input",children:[Object(u.jsx)("option",{value:"LOW",children:"Low"}),Object(u.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(u.jsx)("option",{value:"HIGH",children:"High"})]}),Object(u.jsx)("label",{htmlFor:"due-date",children:"Due date"}),Object(u.jsx)("input",{id:"due-date",type:"date",value:c,onChange:e=>d(e.target.value),className:"form-input",required:!0}),Object(u.jsx)("button",{type:"submit",className:"button",children:"Add Task"})]})})};var p=e=>{let{onAddTask:t,tasksLoaded:a}=e;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Tasks"}),Object(u.jsx)(j,{onAddTask:t}),!a&&Object(u.jsx)("p",{children:"Click 'Fetch Tasks' to load tasks"})]})};var h=e=>{let{task:t,onDeleteTask:a,onUpdateTask:i,onFetchTask:o,onUpdateTaskCompletion:l,onUpdateTaskPriority:n,onUpdateTaskDueDate:r}=e;const[c,d]=Object(s.useState)(!1),[j,p]=Object(s.useState)(t.title||t.task),[h,b]=Object(s.useState)(t.description),[k,v]=Object(s.useState)(t.priority),[O,m]=Object(s.useState)(t.dueDate||t.finishingDate),[x,f]=Object(s.useState)(!1);return Object(u.jsx)("div",{className:"task-item "+(x?"task-completed-animation":""),children:c?Object(u.jsxs)("div",{className:"task-edit-form",children:[Object(u.jsx)("input",{type:"text",value:j,onChange:e=>p(e.target.value),className:"edit-input",placeholder:"Task title"}),Object(u.jsx)("textarea",{value:h,onChange:e=>b(e.target.value),className:"edit-input",placeholder:"Description"}),Object(u.jsxs)("select",{value:k,onChange:e=>(async e=>{v(e),c||await n(t.id,e)})(e.target.value),className:"edit-input",children:[Object(u.jsx)("option",{value:"LOW",children:"Low"}),Object(u.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(u.jsx)("option",{value:"HIGH",children:"High"})]}),Object(u.jsx)("input",{type:"date",value:O,onChange:e=>m(e.target.value),className:"date-input"}),Object(u.jsxs)("div",{className:"task-actions",children:[Object(u.jsx)("button",{className:"button",onClick:async()=>{const e={...t,title:j,description:h,priority:k,dueDate:O};await i(t.id,e),d(!1)},children:"Save"}),Object(u.jsx)("button",{className:"button",onClick:()=>d(!1),children:"Cancel"})]})]}):Object(u.jsxs)("div",{className:"task-view",children:[Object(u.jsxs)("div",{className:"task-header",children:[Object(u.jsx)("input",{type:"checkbox",checked:t.completed,onChange:async()=>{const e=!t.completed;await l(t.id,e)&&e&&(f(!0),setTimeout((()=>{f(!1)}),1e3))}}),Object(u.jsxs)("div",{className:"task-content",children:[Object(u.jsx)("span",{className:"task-title",style:{color:t.completed?"#757575":"#212121",textDecoration:t.completed?"line-through":"none"},children:t.title||t.task}),t.description&&Object(u.jsx)("p",{className:"task-description",children:t.description})]})]}),Object(u.jsxs)("div",{className:"task-footer",children:[Object(u.jsxs)("div",{className:"task-meta",children:[Object(u.jsx)("span",{className:"priority-badge",style:{backgroundColor:(e=>{switch(e.toUpperCase()){case"HIGH":return"#f44336";case"MEDIUM":return"#ff9800";case"LOW":return"#4caf50";default:return"#757575"}})(t.priority)},children:t.priority}),Object(u.jsx)("span",{className:"task-date",style:{color:(()=>{if(!t.dueDate&&!t.finishingDate)return"#757575";const e=new Date,a=new Date(t.dueDate||t.finishingDate);return a<e?"#f44336":a.toDateString()===e.toDateString()?"#ff9800":"#4caf50"})()},children:t.dueDate||t.finishingDate||"No due date"})]}),Object(u.jsxs)("div",{className:"task-actions",children:[Object(u.jsx)("button",{className:"button edit-button",onClick:()=>d(!0),children:"Edit"}),Object(u.jsx)("button",{className:"button delete-button",onClick:()=>a(t.id),children:"Delete"})]})]})]})})};var b=e=>{let{tasks:t,onDeleteTask:a,onUpdateTask:s,onFetchTask:i,onUpdateTaskCompletion:o,onUpdateTaskPriority:l,onUpdateTaskDueDate:n}=e;return Object(u.jsx)("div",{className:"task-list",children:t.map((e=>Object(u.jsx)(h,{task:e,onDeleteTask:a,onUpdateTask:s,onFetchTask:i,onUpdateTaskCompletion:o,onUpdateTaskPriority:l,onUpdateTaskDueDate:n},e.id)))})};a(53);var k=e=>{let{tasks:t,onDeleteTask:a,onUpdateTask:i,onFetchTask:o,onUpdateTaskCompletion:l,onUpdateTaskPriority:n,onUpdateTaskDueDate:r}=e;const c=Object(d.f)(),[j,p]=Object(s.useState)({priority:"",completed:"",dateFilter:"",dateValue:""}),h=e=>{const{name:t,value:a}=e.target;p((e=>({...e,[t]:a})))};return Object(u.jsxs)("div",{className:"tasks-shown-container",children:[Object(u.jsx)("h2",{children:"Task Overview"}),Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)("button",{className:"back-button",onClick:()=>{c.push("/")},children:"Back to Main Page"})}),Object(u.jsxs)("div",{className:"filters-container",children:[Object(u.jsx)("h3",{children:"Filter Tasks"}),Object(u.jsxs)("div",{className:"filter-row",children:[Object(u.jsxs)("div",{className:"filter-group",children:[Object(u.jsx)("label",{htmlFor:"priority",children:"Priority:"}),Object(u.jsxs)("select",{id:"priority",name:"priority",value:j.priority,onChange:h,children:[Object(u.jsx)("option",{value:"",children:"All Priorities"}),Object(u.jsx)("option",{value:"LOW",children:"Low"}),Object(u.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(u.jsx)("option",{value:"HIGH",children:"High"})]})]}),Object(u.jsxs)("div",{className:"filter-group",children:[Object(u.jsx)("label",{htmlFor:"completed",children:"Status:"}),Object(u.jsxs)("select",{id:"completed",name:"completed",value:j.completed,onChange:h,children:[Object(u.jsx)("option",{value:"",children:"All Tasks"}),Object(u.jsx)("option",{value:"true",children:"Completed"}),Object(u.jsx)("option",{value:"false",children:"Not Completed"})]})]})]}),Object(u.jsxs)("div",{className:"filter-row",children:[Object(u.jsxs)("div",{className:"filter-group",children:[Object(u.jsx)("label",{htmlFor:"dateFilter",children:"Date Filter:"}),Object(u.jsxs)("select",{id:"dateFilter",name:"dateFilter",value:j.dateFilter,onChange:h,children:[Object(u.jsx)("option",{value:"",children:"No Date Filter"}),Object(u.jsx)("option",{value:"dueDate",children:"Due On"}),Object(u.jsx)("option",{value:"dueBefore",children:"Due Before"}),Object(u.jsx)("option",{value:"dueAfter",children:"Due After"})]})]}),j.dateFilter&&Object(u.jsxs)("div",{className:"filter-group",children:[Object(u.jsx)("label",{htmlFor:"dateValue",children:"Date:"}),Object(u.jsx)("input",{type:"date",id:"dateValue",name:"dateValue",value:j.dateValue,onChange:h})]})]}),Object(u.jsxs)("div",{className:"filter-buttons",children:[Object(u.jsx)("button",{className:"apply-button",onClick:()=>{const e={};if(j.priority&&(e.priority=j.priority),""!==j.completed&&(e.completed="true"===j.completed),j.dateFilter&&j.dateValue)switch(j.dateFilter){case"dueDate":e.dueDate=j.dateValue;break;case"dueBefore":e.dueBefore=j.dateValue;break;case"dueAfter":e.dueAfter=j.dateValue}o(e)},children:"Apply Filters"}),Object(u.jsx)("button",{className:"clear-button",onClick:()=>{p({priority:"",completed:"",dateFilter:"",dateValue:""}),o()},children:"Clear Filters"})]})]}),Object(u.jsx)("div",{className:"tasks-content",children:0===t.length?Object(u.jsx)("p",{className:"no-tasks",children:"No tasks found."}):Object(u.jsx)(b,{tasks:t,onDeleteTask:a,onUpdateTask:i,onFetchTask:o,onUpdateTaskCompletion:l,onUpdateTaskPriority:n,onUpdateTaskDueDate:r})})]})};a(61);var v=()=>{const[e,t]=Object(s.useState)([]),[a,i]=Object(s.useState)(!1),[o,l]=Object(s.useState)(!1),n=Object(d.f)(),r=e=>{if(!e)return null;return new Date(e).toISOString().split("T")[0]},j=Object(s.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(!0);try{var a;let l=`${(null===(a=window.ENV)||void 0===a?void 0:a.API_URL)||"localhost:8080/api"}/tasks`;var s;if(e.priority&&void 0!==e.completed)l=`${(null===(s=window.ENV)||void 0===s?void 0:s.API_URL)||"localhost:8080/api"}/tasks/priority/${e.priority}/status/${e.completed}`;else if(e.priority&&e.dueDate){var o;l=`${(null===(o=window.ENV)||void 0===o?void 0:o.API_URL)||"localhost:8080/api"}/tasks/priority/${e.priority}/due-date/${r(e.dueDate)}`}else if(e.priority){var n;l=`${(null===(n=window.ENV)||void 0===n?void 0:n.API_URL)||"localhost:8080/api"}/tasks/priority/${e.priority}`}else if(void 0!==e.completed){var d;l=`${(null===(d=window.ENV)||void 0===d?void 0:d.API_URL)||"localhost:8080/api"}/tasks/status/${e.completed}`}else if(e.dueDate){var u;l=`${(null===(u=window.ENV)||void 0===u?void 0:u.API_URL)||"localhost:8080/api"}/tasks/due-date/${r(e.dueDate)}`}else if(e.dueBefore){var j;l=`${(null===(j=window.ENV)||void 0===j?void 0:j.API_URL)||"localhost:8080/api"}/tasks/due-before/${r(e.dueBefore)}`}else if(e.dueAfter){var p;l=`${(null===(p=window.ENV)||void 0===p?void 0:p.API_URL)||"localhost:8080/api"}/tasks/due-after/${r(e.dueAfter)}`}const h=await c.a.get(l);t(h.data),i(!0)}catch(h){console.error("Error fetching tasks:",h)}finally{l(!1)}}),[]);Object(s.useEffect)((()=>{window.location.pathname.includes("/tasksShown")&&j()}),[j]);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{children:"Todo List"}),Object(u.jsxs)(d.c,{children:[Object(u.jsxs)(d.a,{exact:!0,path:"/",children:[Object(u.jsx)("button",{onClick:()=>{j(),n.push("/tasksShown")},className:"button",children:"Fetch Tasks"}),Object(u.jsx)(p,{onAddTask:async e=>{try{var a;e.dueDate&&(e.dueDate=r(e.dueDate));const s=await c.a.post(`${(null===(a=window.ENV)||void 0===a?void 0:a.API_URL)||"localhost:8080/api"}/tasks`,e);return t((e=>[...e,s.data])),s.data}catch(s){return console.error("Error adding task:",s),null}},tasksLoaded:a})]}),Object(u.jsx)(d.a,{path:"/tasksShown",children:Object(u.jsx)(k,{tasks:e,onDeleteTask:async e=>{try{var a;return await c.a.delete(`${(null===(a=window.ENV)||void 0===a?void 0:a.API_URL)||"localhost:8080/api"}/tasks/${e}`),t((t=>t.filter((t=>t.id!==e)))),!0}catch(s){return console.error("Error deleting task:",s),!1}},onUpdateTask:async(e,a)=>{try{var s;a.dueDate&&(a.dueDate=r(a.dueDate));const i=await c.a.put(`${(null===(s=window.ENV)||void 0===s?void 0:s.API_URL)||"localhost:8080/api"}/tasks/${e}`,a);return t((t=>t.map((t=>t.id===e?i.data:t)))),i.data}catch(i){return console.error("Error updating task:",i),null}},onFetchTask:j,onUpdateTaskCompletion:async(e,a)=>{try{let o;var s,i;if(a)o=await c.a.patch(`${(null===(s=window.ENV)||void 0===s?void 0:s.API_URL)||"localhost:8080/api"}/tasks/${e}/complete`);else o=await c.a.patch(`${(null===(i=window.ENV)||void 0===i?void 0:i.API_URL)||"localhost:8080/api"}/tasks/${e}/incomplete`);return t((t=>t.map((t=>t.id===e?o.data:t)))),o.data}catch(o){return console.error(`Error updating completion status for task ${e}:`,o),null}},onUpdateTaskPriority:async(e,a)=>{try{var s;if(!["LOW","MEDIUM","HIGH"].includes(a))return console.error("Invalid priority value. Must be LOW, MEDIUM, or HIGH"),null;const i=await c.a.patch(`${(null===(s=window.ENV)||void 0===s?void 0:s.API_URL)||"localhost:8080/api"}/tasks/${e}/priority/${a}`);return t((t=>t.map((t=>t.id===e?i.data:t)))),i.data}catch(i){return console.error(`Error updating priority for task ${e}:`,i),null}},onUpdateTaskDueDate:async(e,a)=>{try{var s;const i=r(a),o=await c.a.patch(`${(null===(s=window.ENV)||void 0===s?void 0:s.API_URL)||"localhost:8080/api"}/tasks/${e}/due-date`,{dueDate:i});return t((t=>t.map((t=>t.id===e?o.data:t)))),o.data}catch(i){return console.error(`Error updating due date for task ${e}:`,i),null}}})})]})]})};l.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(n.a,{children:Object(u.jsx)(v,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.8e6e99d7.chunk.js.map